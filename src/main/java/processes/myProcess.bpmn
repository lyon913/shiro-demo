<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/bpmn20" id="register-definitions">
  <process id="p_register" name="登记流程" isExecutable="true" activiti:candidateStarterUsers="GROUP_SL">
    <documentation>不动产通用登记流程</documentation>
    <startEvent id="start" name="开始" activiti:initiator="initiator"></startEvent>
    <endEvent id="end" name="结束"></endEvent>
    <userTask id="10" name="受理" default="10_20" activiti:assignee="${initiator}" activiti:candidateGroups="GROUP_SJ"></userTask>
    <userTask id="20" name="审核" default="20_30" activiti:candidateGroups="GROUP_SH"></userTask>
    <sequenceFlow id="flow3" sourceRef="start" targetRef="10"></sequenceFlow>
    <userTask id="40" name="缮证" default="40_50" activiti:candidateGroups="GROUP_SZ"></userTask>
    <userTask id="50" name="发证" default="50_60" activiti:candidateGroups="GROUP_FZ"></userTask>
    <sequenceFlow id="40_50" sourceRef="40" targetRef="50"></sequenceFlow>
    <userTask id="60" name="归档" default="60_end" activiti:candidateGroups="GROUP_GD"></userTask>
    <sequenceFlow id="50_60" sourceRef="50" targetRef="60"></sequenceFlow>
    <sequenceFlow id="60_end" sourceRef="60" targetRef="end"></sequenceFlow>
    <sequenceFlow id="20_10" sourceRef="20" targetRef="10">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${direction=="backward"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="10_20" sourceRef="10" targetRef="20"></sequenceFlow>
    <sequenceFlow id="10_end" name="不予受理/退件" sourceRef="10" targetRef="end">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${rejected==true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="50_40" sourceRef="50" targetRef="40">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${direction=="backward"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="60_50" sourceRef="60" targetRef="50">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${direction=="backward"}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="30" name="登簿" default="30_40"></userTask>
    <sequenceFlow id="30_40" sourceRef="30" targetRef="40"></sequenceFlow>
    <sequenceFlow id="20_30" sourceRef="20" targetRef="30"></sequenceFlow>
    <sequenceFlow id="40_30" sourceRef="40" targetRef="30">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${direction=="backward"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="30_20" sourceRef="30" targetRef="20">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${direction=="backward"}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_p_register">
    <bpmndi:BPMNPlane bpmnElement="p_register" id="BPMNPlane_p_register">
      <bpmndi:BPMNShape bpmnElement="start" id="BPMNShape_start">
        <omgdc:Bounds height="35.0" width="35.0" x="36.0" y="140.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="end" id="BPMNShape_end">
        <omgdc:Bounds height="35.0" width="35.0" x="1076.0" y="140.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="10" id="BPMNShape_10">
        <omgdc:Bounds height="55.0" width="105.0" x="100.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="20" id="BPMNShape_20">
        <omgdc:Bounds height="55.0" width="105.0" x="266.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="40" id="BPMNShape_40">
        <omgdc:Bounds height="55.0" width="105.0" x="576.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="50" id="BPMNShape_50">
        <omgdc:Bounds height="55.0" width="105.0" x="746.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="60" id="BPMNShape_60">
        <omgdc:Bounds height="55.0" width="105.0" x="906.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="30" id="BPMNShape_30">
        <omgdc:Bounds height="55.0" width="105.0" x="420.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="71.0" y="157.0"></omgdi:waypoint>
        <omgdi:waypoint x="100.0" y="157.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="40_50" id="BPMNEdge_40_50">
        <omgdi:waypoint x="681.0" y="157.0"></omgdi:waypoint>
        <omgdi:waypoint x="746.0" y="157.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="50_60" id="BPMNEdge_50_60">
        <omgdi:waypoint x="851.0" y="157.0"></omgdi:waypoint>
        <omgdi:waypoint x="906.0" y="157.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="60_end" id="BPMNEdge_60_end">
        <omgdi:waypoint x="1011.0" y="157.0"></omgdi:waypoint>
        <omgdi:waypoint x="1076.0" y="157.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="20_10" id="BPMNEdge_20_10">
        <omgdi:waypoint x="318.0" y="185.0"></omgdi:waypoint>
        <omgdi:waypoint x="309.0" y="227.0"></omgdi:waypoint>
        <omgdi:waypoint x="152.0" y="227.0"></omgdi:waypoint>
        <omgdi:waypoint x="152.0" y="185.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="10_20" id="BPMNEdge_10_20">
        <omgdi:waypoint x="205.0" y="157.0"></omgdi:waypoint>
        <omgdi:waypoint x="266.0" y="157.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="10_end" id="BPMNEdge_10_end">
        <omgdi:waypoint x="152.0" y="130.0"></omgdi:waypoint>
        <omgdi:waypoint x="152.0" y="57.0"></omgdi:waypoint>
        <omgdi:waypoint x="1093.0" y="57.0"></omgdi:waypoint>
        <omgdi:waypoint x="1093.0" y="140.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="75.0" x="181.0" y="41.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="50_40" id="BPMNEdge_50_40">
        <omgdi:waypoint x="798.0" y="185.0"></omgdi:waypoint>
        <omgdi:waypoint x="791.0" y="227.0"></omgdi:waypoint>
        <omgdi:waypoint x="628.0" y="227.0"></omgdi:waypoint>
        <omgdi:waypoint x="628.0" y="185.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="60_50" id="BPMNEdge_60_50">
        <omgdi:waypoint x="958.0" y="185.0"></omgdi:waypoint>
        <omgdi:waypoint x="958.0" y="226.0"></omgdi:waypoint>
        <omgdi:waypoint x="799.0" y="226.0"></omgdi:waypoint>
        <omgdi:waypoint x="798.0" y="185.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="30_40" id="BPMNEdge_30_40">
        <omgdi:waypoint x="525.0" y="157.0"></omgdi:waypoint>
        <omgdi:waypoint x="576.0" y="157.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="20_30" id="BPMNEdge_20_30">
        <omgdi:waypoint x="371.0" y="157.0"></omgdi:waypoint>
        <omgdi:waypoint x="420.0" y="157.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="40_30" id="BPMNEdge_40_30">
        <omgdi:waypoint x="628.0" y="185.0"></omgdi:waypoint>
        <omgdi:waypoint x="620.0" y="228.0"></omgdi:waypoint>
        <omgdi:waypoint x="476.0" y="228.0"></omgdi:waypoint>
        <omgdi:waypoint x="472.0" y="185.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="30_20" id="BPMNEdge_30_20">
        <omgdi:waypoint x="472.0" y="185.0"></omgdi:waypoint>
        <omgdi:waypoint x="464.0" y="228.0"></omgdi:waypoint>
        <omgdi:waypoint x="318.0" y="228.0"></omgdi:waypoint>
        <omgdi:waypoint x="318.0" y="185.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>